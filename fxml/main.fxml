<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.chart.PieChart?>

<BorderPane stylesheets="@../css/application.css" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.dorm.view.MainController">
   <top>
      <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
      <VBox xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1">
         <children>
            <HBox alignment="CENTER_LEFT" styleClass="main-header">
               <children>
                  <Label fx:id="titleLabel" styleClass="main-title" text="å®¿èˆç®¡ç†ç³»ç»Ÿ">
                     <font>
                        <Font name="System Bold" size="18.0" />
                     </font>
                  </Label>
                  <Region HBox.hgrow="ALWAYS" />
                  <Label fx:id="userInfoLabel" textFill="WHITE" />
                  <Button fx:id="logoutButton" mnemonicParsing="false" onAction="#handleLogout" text="é€€å‡ºç™»å½•" styleClass="primary-button" />
               </children>
               <padding>
                  <Insets bottom="5.0" left="15.0" right="15.0" top="5.0" />
               </padding>
            </HBox>
         </children>
      </VBox>
   </top>
   <left>
      <!-- å·¦ä¾§èœå•æ  -->
      <VBox spacing="5.0" styleClass="menu-bar">
         <children>
            <Button fx:id="studentManageButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showStudentManagement" text="å­¦ç”Ÿç®¡ç†" styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="2.0" left="10.0" right="10.0" top="10.0" />
               </VBox.margin>
            </Button>
            <Button fx:id="dormManageButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showDormitoryManagement" text="å®¿èˆç®¡ç†" styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="2.0" left="10.0" right="10.0" top="2.0" />
               </VBox.margin>
            </Button>
            <Button fx:id="accommodationManageButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showAccommodationManagement" text="ä½å®¿åˆ†é…" styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="2.0" left="10.0" right="10.0" top="2.0" />
               </VBox.margin>
            </Button>
            <Button fx:id="repairManageButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showRepairManagement" text="ç»´ä¿®ç®¡ç†" styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="2.0" left="10.0" right="10.0" top="2.0" />
               </VBox.margin>
            </Button>
            <Button fx:id="paymentManageButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showPaymentManagement" text="ç¼´è´¹ç®¡ç†" styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="2.0" left="10.0" right="10.0" top="2.0" />
               </VBox.margin>
            </Button>
            <Button fx:id="violationManageButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showViolationManagement" text="è¿çºªç®¡ç†" styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="2.0" left="10.0" right="10.0" top="2.0" />
               </VBox.margin>
            </Button>
            <Button fx:id="myInfoButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showMyInfo" text="æˆ‘çš„ä¿¡æ¯" styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="2.0" left="10.0" right="10.0" top="2.0" />
               </VBox.margin>
            </Button>
            <Button fx:id="statisticsButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showStatistics" text="ç»Ÿè®¡æŸ¥è¯¢" styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="2.0" left="10.0" right="10.0" top="2.0" />
               </VBox.margin>
            </Button>
            <Button fx:id="reminderManageButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showReminderManagement" text="æé†’ç®¡ç†" styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="2.0" left="10.0" right="10.0" top="2.0" />
               </VBox.margin>
            </Button>
            <Region VBox.vgrow="ALWAYS" />
            <Button fx:id="changePasswordButton" maxWidth="1.7976931348623157E308" mnemonicParsing="false" onAction="#showChangePassword" text="ä¿®æ”¹å¯†ç " styleClass="menu-button">
               <VBox.margin>
                  <Insets bottom="10.0" left="10.0" right="10.0" top="2.0" />
               </VBox.margin>
            </Button>
         </children>
         <BorderPane.margin>
            <Insets bottom="0.0" left="0.0" right="0.0" top="0.0" />
         </BorderPane.margin>
         <padding>
            <Insets bottom="10.0" left="0.0" right="0.0" top="0.0" />
         </padding>
      </VBox>
   </left>
   <center>
      <!-- ä¸»å†…å®¹åŒºåŸŸ -->
      <ScrollPane fitToWidth="true" styleClass="main-content-scroll">
         <content>
            <VBox fx:id="contentArea" spacing="35.0" styleClass="main-content-area">
               <padding>
                  <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
               </padding>
               <children>
                  <!-- æ¬¢è¿Žå¤´éƒ¨ -->
                  <VBox spacing="25" alignment="CENTER">
                     <children>
                        <Label styleClass="main-welcome-icon" text="ðŸ¢" />
                        <Label styleClass="main-welcome-title" text="å®¿èˆç®¡ç†ç³»ç»Ÿ" textAlignment="CENTER" />
                        <Label styleClass="main-welcome-subtitle" text="çŽ°ä»£åŒ– Â· æ™ºèƒ½ Â· é«˜æ•ˆ" textAlignment="CENTER" />
                        <Separator styleClass="main-welcome-separator" />
                     </children>
                  </VBox>

                  <!-- ç³»ç»Ÿæ¦‚è§ˆåŒºåŸŸ -->
                  <VBox spacing="30" alignment="CENTER">
                     <children>
                        <Label text="ðŸ“Š ç³»ç»Ÿæ¦‚è§ˆ" styleClass="section-main-title" />

                        <!-- ç»Ÿè®¡å¡ç‰‡ç½‘æ ¼ -->
                        <VBox spacing="25" alignment="CENTER">
                           <children>
                              <!-- ç¬¬ä¸€è¡Œå¡ç‰‡ -->
                              <HBox spacing="25" alignment="CENTER">
                                 <children>
                                    <!-- å­¦ç”Ÿç»Ÿè®¡å¡ç‰‡ -->
                                    <VBox styleClass="main-stats-card" spacing="15">
                                       <padding>
                                          <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                       </padding>
                                       <children>
                                          <HBox spacing="20" alignment="CENTER_LEFT">
                                             <children>
                                                <Label text="ðŸ‘¥" styleClass="main-stats-icon" />
                                                <VBox spacing="5">
                                                   <children>
                                                      <Label text="åœ¨æ ¡å­¦ç”Ÿ" styleClass="main-stats-label" />
                                                      <Label fx:id="studentCount" text="3" styleClass="main-stats-value" />
                                                   </children>
                                                </VBox>
                                             </children>
                                          </HBox>
                                          <Label text="ä»Šæ—¥æ–°å¢ž: +0" styleClass="main-stats-trend positive" />
                                       </children>
                                    </VBox>

                                    <!-- å®¿èˆç»Ÿè®¡å¡ç‰‡ -->
                                    <VBox styleClass="main-stats-card" spacing="15">
                                       <padding>
                                          <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                       </padding>
                                       <children>
                                          <HBox spacing="20" alignment="CENTER_LEFT">
                                             <children>
                                                <Label text="ðŸ¢" styleClass="main-stats-icon" />
                                                <VBox spacing="5">
                                                   <children>
                                                      <Label text="å®¿èˆæ•°é‡" styleClass="main-stats-label" />
                                                      <Label fx:id="dormitoryCount" text="3" styleClass="main-stats-value" />
                                                   </children>
                                                </VBox>
                                             </children>
                                          </HBox>
                                          <Label text="ä½¿ç”¨çŽ‡: 100%" styleClass="main-stats-trend success" />
                                       </children>
                                    </VBox>

                                    <!-- åºŠä½ç»Ÿè®¡å¡ç‰‡ -->
                                    <VBox styleClass="main-stats-card" spacing="15">
                                       <padding>
                                          <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                       </padding>
                                       <children>
                                          <HBox spacing="20" alignment="CENTER_LEFT">
                                             <children>
                                                <Label text="ðŸ›ï¸" styleClass="main-stats-icon" />
                                                <VBox spacing="5">
                                                   <children>
                                                      <Label text="åºŠä½æ€»æ•°" styleClass="main-stats-label" />
                                                      <Label fx:id="bedCount" text="8" styleClass="main-stats-value" />
                                                   </children>
                                                </VBox>
                                             </children>
                                          </HBox>
                                          <Label text="ç©ºé—²: 5" styleClass="main-stats-trend info" />
                                       </children>
                                    </VBox>
                                 </children>
                              </HBox>

                              <!-- ç¬¬äºŒè¡Œå¡ç‰‡ -->
                              <HBox spacing="25" alignment="CENTER">
                                 <children>
                                    <!-- ç»´ä¿®ç”³è¯·å¡ç‰‡ -->
                                    <VBox styleClass="main-stats-card" spacing="15">
                                       <padding>
                                          <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                       </padding>
                                       <children>
                                          <HBox spacing="20" alignment="CENTER_LEFT">
                                             <children>
                                                <Label text="ðŸ”§" styleClass="main-stats-icon" />
                                                <VBox spacing="5">
                                                   <children>
                                                      <Label text="ç»´ä¿®ç”³è¯·" styleClass="main-stats-label" />
                                                      <Label fx:id="repairCount" text="0" styleClass="main-stats-value" />
                                                   </children>
                                                </VBox>
                                             </children>
                                          </HBox>
                                          <Label text="å¾…å¤„ç†: 0" styleClass="main-stats-trend warning" />
                                       </children>
                                    </VBox>

                                    <!-- ç³»ç»ŸçŠ¶æ€å¡ç‰‡ -->
                                    <VBox styleClass="main-stats-card" spacing="15">
                                       <padding>
                                          <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                       </padding>
                                       <children>
                                          <HBox spacing="20" alignment="CENTER_LEFT">
                                             <children>
                                                <Label text="âš¡" styleClass="main-stats-icon" />
                                                <VBox spacing="5">
                                                   <children>
                                                      <Label text="ç³»ç»ŸçŠ¶æ€" styleClass="main-stats-label" />
                                                      <Label text="æ­£å¸¸è¿è¡Œ" styleClass="main-stats-value success" />
                                                   </children>
                                                </VBox>
                                             </children>
                                          </HBox>
                                          <Label text="è¿è¡Œæ—¶é—´: 24h" styleClass="main-stats-trend success" />
                                       </children>
                                    </VBox>

                                    <!-- ç¼´è´¹æƒ…å†µå¡ç‰‡ -->
                                    <VBox styleClass="main-stats-card" spacing="15">
                                       <padding>
                                          <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                       </padding>
                                       <children>
                                          <HBox spacing="20" alignment="CENTER_LEFT">
                                             <children>
                                                <Label text="ðŸ’°" styleClass="main-stats-icon" />
                                                <VBox spacing="5">
                                                   <children>
                                                      <Label text="ç¼´è´¹æƒ…å†µ" styleClass="main-stats-label" />
                                                      <Label text="2/3" styleClass="main-stats-value" />
                                                   </children>
                                                </VBox>
                                             </children>
                                          </HBox>
                                          <Label text="æœªç¼´è´¹: 1" styleClass="main-stats-trend warning" />
                                       </children>
                                    </VBox>

                                    <!-- æé†’ä¿¡æ¯å¡ç‰‡ -->
                                    <VBox styleClass="main-stats-card" spacing="15">
                                       <padding>
                                          <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
                                       </padding>
                                       <children>
                                          <HBox spacing="20" alignment="CENTER_LEFT">
                                             <children>
                                                <Label text="ðŸ””" styleClass="main-stats-icon" />
                                                <VBox spacing="5">
                                                   <children>
                                                      <Label text="å¾…å¤„ç†æé†’" styleClass="main-stats-label" />
                                                      <Label fx:id="reminderCount" text="0" styleClass="main-stats-value warning" />
                                                   </children>
                                                </VBox>
                                             </children>
                                          </HBox>
                                          <Label fx:id="reminderTrend" text="ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ…" styleClass="main-stats-trend info" />
                                       </children>
                                    </VBox>
                                 </children>
                              </HBox>
                           </children>
                        </VBox>
                     </children>
                  </VBox>

                  <!-- æ•°æ®å¯è§†åŒ–åŒºåŸŸ -->
                  <VBox spacing="25" alignment="CENTER">
                     <children>
                        <Label text="ðŸ“ˆ æ•°æ®å¯è§†åŒ–" styleClass="section-main-title" />

                        <HBox spacing="35" alignment="CENTER">
                           <children>
                              <!-- å­¦é™¢åˆ†å¸ƒå›¾ -->
                              <VBox spacing="15" alignment="CENTER" styleClass="chart-container">
                                 <children>
                                    <Label text="å­¦é™¢åˆ†å¸ƒ" styleClass="chart-title" />
                                    <BarChart fx:id="collegeChart" title="" prefWidth="450" prefHeight="320" styleClass="main-chart">
                                       <xAxis>
                                          <CategoryAxis side="BOTTOM" />
                                       </xAxis>
                                       <yAxis>
                                          <NumberAxis side="LEFT" />
                                       </yAxis>
                                    </BarChart>
                                 </children>
                              </VBox>

                              <!-- å®¿èˆä½¿ç”¨æƒ…å†µå›¾ -->
                              <VBox spacing="15" alignment="CENTER" styleClass="chart-container">
                                 <children>
                                    <Label text="å®¿èˆä½¿ç”¨æƒ…å†µ" styleClass="chart-title" />
                                    <PieChart fx:id="dormitoryChart" title="" prefWidth="450" prefHeight="320" styleClass="main-chart" />
                                 </children>
                              </VBox>
                           </children>
                        </HBox>
                     </children>
                  </VBox>

                  <!-- å¿«é€Ÿæ“ä½œåŒºåŸŸ -->
                  <VBox spacing="20" alignment="CENTER">
                     <children>
                        <Label text="âš¡ å¿«é€Ÿæ“ä½œ" styleClass="section-main-title" />

                        <HBox spacing="25" alignment="CENTER">
                           <children>
                              <VBox spacing="15" alignment="CENTER" styleClass="quick-action-card">
                                 <children>
                                    <Label text="ðŸ‘¥" styleClass="quick-action-icon" />
                                    <Label text="å­¦ç”Ÿç®¡ç†" styleClass="quick-action-label" />
                                    <Button text="è¿›å…¥ç®¡ç†" styleClass="quick-action-button" onAction="#showStudentManagement" />
                                 </children>
                              </VBox>

                              <VBox spacing="15" alignment="CENTER" styleClass="quick-action-card">
                                 <children>
                                    <Label text="ðŸ¢" styleClass="quick-action-icon" />
                                    <Label text="å®¿èˆç®¡ç†" styleClass="quick-action-label" />
                                    <Button text="è¿›å…¥ç®¡ç†" styleClass="quick-action-button" onAction="#showDormitoryManagement" />
                                 </children>
                              </VBox>

                              <VBox spacing="15" alignment="CENTER" styleClass="quick-action-card">
                                 <children>
                                    <Label text="ðŸ”§" styleClass="quick-action-icon" />
                                    <Label text="ç»´ä¿®ç®¡ç†" styleClass="quick-action-label" />
                                    <Button text="è¿›å…¥ç®¡ç†" styleClass="quick-action-button" onAction="#showRepairManagement" />
                                 </children>
                              </VBox>

                              <VBox spacing="15" alignment="CENTER" styleClass="quick-action-card">
                                 <children>
                                    <Label text="ðŸ“Š" styleClass="quick-action-icon" />
                                    <Label text="ç»Ÿè®¡æŸ¥è¯¢" styleClass="quick-action-label" />
                                    <Button text="æŸ¥çœ‹ç»Ÿè®¡" styleClass="quick-action-button" onAction="#showStatistics" />
                                 </children>
                              </VBox>
                           </children>
                        </HBox>
                     </children>
                  </VBox>
               </children>
            </VBox>
         </content>
      </ScrollPane>
   </center>
</BorderPane>